From 9faee90fdb66049162834a8bb066c6cb40a0e449 Mon Sep 17 00:00:00 2001
From: Pierre Sassoulas <pierre.sassoulas@gmail.com>
Date: Wed, 19 Mar 2025 23:01:42 +0100
Subject: [PATCH] [setuptools] Upgrade the license handling for latest
 setuptools

---
 pyproject.toml | 8 +++-----
 setup.cfg      | 9 ---------
 2 files changed, 3 insertions(+), 14 deletions(-)
 delete mode 100644 setup.cfg

diff --git a/pyproject.toml b/pyproject.toml
index e2cf7c209f..4bf8398eba 100644
--- a/pyproject.toml
+++ b/pyproject.toml
@@ -8,13 +8,14 @@ name = "astroid"
 description = "An abstract syntax tree for Python with inference support."
 readme = "README.rst"
 keywords = [ "abstract syntax tree", "python", "static code analysis" ]
-license = { text = "LGPL-2.1-or-later" }
+license = "LGPL-2.1-or-later"
+license-files = [ "LICENSE", "CONTRIBUTORS.txt" ]
+
 requires-python = ">=3.9.0"
 classifiers = [
   "Development Status :: 6 - Mature",
   "Environment :: Console",
   "Intended Audience :: Developers",
-  "License :: OSI Approved :: GNU Lesser General Public License v2 (LGPLv2)",
   "Operating System :: OS Independent",
   "Programming Language :: Python",
   "Programming Language :: Python :: 3 :: Only",
@@ -39,9 +40,6 @@ urls."Discord server" = "https://discord.gg/Egy6P8AMB5"
 urls."Docs" = "https://pylint.readthedocs.io/projects/astroid/en/latest/"
 urls."Source Code" = "https://github.com/pylint-dev/astroid"
 
-[tool.setuptools]
-license-files = [ "LICENSE", "CONTRIBUTORS.txt" ] # Keep in sync with setup.cfg
-
 [tool.setuptools.package-dir]
 "" = "."
 
diff --git a/setup.cfg b/setup.cfg
deleted file mode 100644
index 3b35d7a5e9..0000000000
--- a/setup.cfg
+++ /dev/null
@@ -1,9 +0,0 @@
-# Setuptools v62.6 doesn't support editable installs with just 'pyproject.toml' (PEP 660).
-# Keep this file until it does!
-
-[metadata]
-# wheel doesn't yet read license_files from pyproject.toml - tools.setuptools
-# Keep it here until it does!
-license_files =
-    LICENSE
-    CONTRIBUTORS.txt
